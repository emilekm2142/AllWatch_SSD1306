// StarsApp.h

#ifndef _STARSAPP_h
#define _STARSAPP_h

#if defined(ARDUINO) && ARDUINO >= 100
	#include "arduino.h"
#else
	#include "WProgram.h"
#endif
#include "BuiltInApplication.h"
#include "Renderer.h"
#include "CustomScreen.h"
#include <ESP8266WiFi.h>
#include <ESP8266HTTPClient.h>
#include "Layout.h"
#include "SSD1306.h"
namespace StarsApp_Icon {
	const int width = 36;
	const int height = 36;
	const unsigned char icon_bits[] PROGMEM = {
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x1f, 0x00, 0x00, 0x00,
	   0xe0, 0xff, 0x00, 0x00, 0x00, 0xf8, 0xff, 0x01, 0x00, 0x00, 0xfc, 0xff,
	   0x03, 0x00, 0x00, 0xfe, 0xff, 0x07, 0x00, 0x00, 0xff, 0xff, 0x0f, 0x00,
	   0xc0, 0xff, 0xff, 0x0f, 0x00, 0xf0, 0xff, 0xff, 0x1f, 0x00, 0xf8, 0xff,
	   0xff, 0x1f, 0x00, 0xfc, 0xff, 0xff, 0x7f, 0x00, 0xfe, 0xff, 0xff, 0xff,
	   0x01, 0xfe, 0xff, 0xff, 0xff, 0x03, 0xff, 0xff, 0xff, 0xff, 0x07, 0xff,
	   0xff, 0xff, 0xff, 0x07, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xff, 0xff, 0xff,
	   0xff, 0x0f, 0xff, 0xff, 0xff, 0xff, 0x0f, 0xff, 0xff, 0xff, 0xff, 0x0f,
	   0xfe, 0xff, 0xff, 0xff, 0x0f, 0xfe, 0xff, 0xff, 0xff, 0x07, 0xfc, 0xff,
	   0xff, 0xff, 0x07, 0xf8, 0xff, 0xff, 0xff, 0x03, 0xf0, 0xff, 0xff, 0xff,
	   0x01, 0xc0, 0xff, 0xff, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

}
class StarsApp :public BuiltInApplication
{
private:
	class StarsLayout :public CustomScreen {
	public:
		char header[25];
		bool configured = true;
		bool noData = false;
		StarsApp* app;
		int offset = 15;
		StarsLayout(StarsApp* app) {
			this->app = app;


		}
		void Draw(Renderer& r) {
			
		}
		void Back(Renderer& r) override {
			//app->UI->ReturnToParentLayout();
			this->app->Exit();
		}
		void Up(Renderer& r) override {
			
		}
		void Down(Renderer& r) override {
			
		}
	};
protected:
	StarsLayout* l = new StarsLayout(this);
 public:

	 StarsApp(UserInterfaceClass* UI, SettingsManager* sm) : BuiltInApplication((Layout*)this->l, UI, sm) {
		 this->layout = l;
		 this->name = "Settings";


	 }
	 void OnOpen() override {


	 }
	 void OnExit() override {
		 settingsManager->CloseNetwork();
		 settingsManager->CloseSettingsServer();
	 }
};



#endif


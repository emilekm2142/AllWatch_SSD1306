// FlashlightApp.h

#ifndef _FLASHLIGHTAPP_h
#define _FLASHLIGHTAPP_h

#if defined(ARDUINO) && ARDUINO >= 100
	#include "arduino.h"
#else
	#include "WProgram.h"
#endif
#include "BuiltInApplication.h"
#include "Renderer.h"
#include "CustomScreen.h"
#include "UserInterface.h"
#include "GenericMenuScreen.h"
#include <ESP8266WiFi.h>
#include <ESP8266HTTPClient.h>
#include "Layout.h"

namespace FlashlightApp_icon {
	const int width = 32;
	const int height = 32;
	const unsigned char icon_bits[] PROGMEM = {
	   0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00,
	   0x00, 0x00, 0x18, 0x12, 0x00, 0x00, 0xbc, 0x08, 0x00, 0x00, 0x7e, 0x01,
	   0x00, 0x00, 0xff, 0x12, 0x00, 0x80, 0xff, 0x85, 0x00, 0x80, 0xff, 0x2b,
	   0x00, 0x80, 0xff, 0x07, 0x00, 0x80, 0xff, 0x0f, 0x00, 0x80, 0xff, 0x1f,
	   0x00, 0xc0, 0xff, 0x1f, 0x00, 0xe0, 0xff, 0x0f, 0x00, 0xf0, 0xff, 0x07,
	   0x00, 0x78, 0xfc, 0x03, 0x00, 0x3c, 0xfc, 0x01, 0x00, 0x1e, 0x0e, 0x00,
	   0x00, 0x6f, 0x07, 0x00, 0x80, 0xaf, 0x03, 0x00, 0xc0, 0xff, 0x01, 0x00,
	   0xe0, 0xff, 0x00, 0x00, 0xf0, 0x7f, 0x00, 0x00, 0xf8, 0x3f, 0x00, 0x00,
	   0xfc, 0x1f, 0x00, 0x00, 0xfe, 0x0f, 0x00, 0x00, 0xff, 0x07, 0x00, 0x00,
	   0xfe, 0x03, 0x00, 0x00, 0xfc, 0x01, 0x00, 0x00, 0xf8, 0x00, 0x00, 0x00,
	   0x70, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00 };

}
class FlashlightApp: public BuiltInApplication
{
private:
	class FlashlightScreen :public CustomScreen {
	public:

		FlashlightApp* app;
		
		FlashlightScreen(FlashlightApp* app) {
			this->app = app;
			

		}
		void Draw(Renderer& r) override {
			r.FillRectangle(0, 0, r.GetScreenHeight(), r.GetScreenWidth());
		}
		void Back(Renderer& r) override {
			
			this->app->Exit();
		}
		void Down(Renderer& r) override {
		
		}
		void Up(Renderer& r) override {
			
		}
		void Ok(Renderer& r) override {
			
		}
	};


 public:
	 FlashlightScreen* l;
	 FlashlightApp(UserInterfaceClass* UI, SettingsManager* sm) : BuiltInApplication((Layout*)this->l, UI, sm) {
		 this->l = new FlashlightScreen(this);
		 this->layout = l;
		 this->name = "Flashlight";
		 this->UI = UI;
		// this->UI->DisableDrawing();
		// this->layout->Draw(*UI->GetRenderer());
		 Serial.println("joy");

	 }
	 void OnExit() override {
		// this->UI->EnableDrawing();
	 }
};



#endif


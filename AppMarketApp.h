// AppMarketApp.h

#ifndef _APPMARKETAPP_h
#define _APPMARKETAPP_h

#if defined(ARDUINO) && ARDUINO >= 100
	#include "arduino.h"
#else
	#include "WProgram.h"
#endif
#include "BuiltInApplication.h"
#include "Renderer.h"
#include "CustomScreen.h"

#include <ESP8266WiFi.h>
#include <ESP8266HTTPClient.h>
#include "Layout.h"
#include "DelayedAction.h"
#include "SSD1306.h"
#include "SettingsManager.h"
#include "GenericMenuScreen.h"
#include "GenericTextScreen.h"
namespace AppMarketApp_Icon {

	const int width = 36;
	const int height = 36;


	const unsigned char icon_bits[] PROGMEM = {
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0xc0, 0xff, 0xff, 0x3f, 0x00, 0xe0, 0xff, 0xff, 0x7f, 0x00, 0xe0,
	   0x3c, 0xcf, 0x73, 0x00, 0x70, 0x1c, 0xc6, 0xe3, 0x00, 0x70, 0x1c, 0x86,
	   0xe3, 0x00, 0x70, 0x1c, 0x86, 0xe3, 0x00, 0x70, 0x1c, 0x86, 0xe3, 0x00,
	   0x38, 0x1c, 0x86, 0xc3, 0x01, 0x38, 0x1c, 0x86, 0xc3, 0x01, 0x38, 0x1c,
	   0x8f, 0xc3, 0x01, 0x38, 0x1e, 0x8f, 0xc7, 0x01, 0xf8, 0xff, 0xff, 0xff,
	   0x00, 0xf0, 0xff, 0xff, 0xff, 0x00, 0xf0, 0xf7, 0xfd, 0x7e, 0x00, 0xe0,
	   0x00, 0x00, 0x70, 0x00, 0x60, 0x00, 0x00, 0x60, 0x00, 0x60, 0x00, 0x00,
	   0x60, 0x00, 0x60, 0x00, 0x00, 0x60, 0x00, 0x60, 0x00, 0x00, 0x60, 0x00,
	   0x60, 0x00, 0x00, 0x60, 0x00, 0x60, 0x00, 0x00, 0x60, 0x00, 0x60, 0x00,
	   0x00, 0x60, 0x00, 0x60, 0x00, 0x00, 0x60, 0x00, 0xe0, 0x00, 0x00, 0x70,
	   0x00, 0xe0, 0xff, 0xff, 0x7f, 0x00, 0xe0, 0xff, 0xff, 0x7f, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

}

class AppMarketApp :public BuiltInApplication
{
private:
	class AppMarketLayout :public CustomScreen {
	public:
		AppMarketApp* app;
		Layout* currentScreen; //TODO: move this to customScreen
		GenericTextScreen* infoScreen;
		AppMarketLayout(AppMarketApp* app) {
			this->app = app;
			infoScreen = new GenericTextScreen(this->app->UI,(char*)F("Coming soon!"),false);
			infoScreen->text = "Coming soon!";
			currentScreen = (Layout*)infoScreen;

		}
		void Draw(Renderer& r) {
			currentScreen->Draw(r);
		}
		void Back(Renderer& r) override {
			
		}
		void Up(Renderer& r) override {
			currentScreen->Up(r);
		}
		void Down(Renderer& r) override {
			currentScreen->Down(r);
		}
		void Ok(Renderer& r) override {
			currentScreen->Ok(r);
		}
	};
protected:
	AppMarketLayout* l = new AppMarketLayout(this);

public:


	AppMarketApp(UserInterfaceClass* UI, SettingsManager* sm) : BuiltInApplication((Layout*)this->l, UI, sm) {
		this->layout = l;
		this->name = "AppMarket";


	}


	void OnOpen() override {

		Run::After(1500, [this]
		{
			Exit();
		});
	}
	void OnExit() override {

	}


};
#endif

